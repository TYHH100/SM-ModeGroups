/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.h:23:14: error: ‘map’ in namespace ‘std’ does not name a template type
   23 |         std::map<std::string, std::string> cvars;
      |              ^~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.h:13:1: note: ‘std::map’ is defined in header ‘<map>’; did you forget to ‘#include <map>’?
   12 | #include <string>
  +++ |+#include <map>
   13 | 
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.h:30:47: error: expected class-name before ‘,’ token
   30 | class ModeGroupExtension : public SDKExtension, public IPluginsListener
      |                                               ^
In file included from /home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.h:4:
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp: In function ‘SourceMod::IExtension* GetSMExtAPI()’:
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:6:12: error: lvalue required as unary ‘&’ operand
    6 | SMEXT_LINK(&g_ModeGroup);
      |            ^~~~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/smsdk_config.h:15:89: note: in definition of macro ‘SMEXT_LINK’
   15 |                 SourceMod::IExtension *GetSMExtAPI() { return (SourceMod::IExtension *)&name; } \
      |                                                                                         ^~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp: In member function ‘virtual bool ModeGroupExtension::SDK_OnLoad(char*, size_t, bool)’:
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:23:9: error: ‘sharesys’ was not declared in this scope
   23 |         sharesys->AddInterface(myself, this);
      |         ^~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:23:32: error: ‘myself’ was not declared in this scope
   23 |         sharesys->AddInterface(myself, this);
      |                                ^~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:34:9: error: ‘playerhelpers’ was not declared in this scope
   34 |         playerhelpers->GetPluginManager()->AddPluginsListener(this);
      |         ^~~~~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:37:32: error: ‘OnModeCommand’ was not declared in this scope; did you mean ‘ConCommand’?
   37 |         RegAdminCmd("sm_mode", OnModeCommand, ADMFLAG_ROOT, "Switch game mode (see modegroup.cfg)");
      |                                ^~~~~~~~~~~~~
      |                                ConCommand
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:37:47: error: ‘ADMFLAG_ROOT’ was not declared in this scope
   37 |         RegAdminCmd("sm_mode", OnModeCommand, ADMFLAG_ROOT, "Switch game mode (see modegroup.cfg)");
      |                                               ^~~~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:37:9: error: ‘RegAdminCmd’ was not declared in this scope
   37 |         RegAdminCmd("sm_mode", OnModeCommand, ADMFLAG_ROOT, "Switch game mode (see modegroup.cfg)");
      |         ^~~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp: In member function ‘virtual void ModeGroupExtension::SDK_OnUnload()’:
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:54:9: error: ‘playerhelpers’ was not declared in this scope
   54 |         playerhelpers->GetPluginManager()->RemovePluginsListener(this);
      |         ^~~~~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp: In member function ‘bool ModeGroupExtension::LoadConfig()’:
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:92:19: error: ‘PLATFORM_MAX_PATH’ was not declared in this scope
   92 |         char path[PLATFORM_MAX_PATH];
      |                   ^~~~~~~~~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:93:9: error: ‘g_pSM’ was not declared in this scope
   93 |         g_pSM->BuildPath(Path_SM, path, sizeof(path), "configs/modegroup.cfg");
      |         ^~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:93:26: error: ‘Path_SM’ was not declared in this scope
   93 |         g_pSM->BuildPath(Path_SM, path, sizeof(path), "configs/modegroup.cfg");
      |                          ^~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:93:35: error: ‘path’ was not declared in this scope
   93 |         g_pSM->BuildPath(Path_SM, path, sizeof(path), "configs/modegroup.cfg");
      |                                   ^~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:95:9: error: ‘IKeyValues’ was not declared in this scope; did you mean ‘KeyValues’?
   95 |         IKeyValues *kv = new CKeyValues("ModeGroups");
      |         ^~~~~~~~~~
      |         KeyValues
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:95:21: error: ‘kv’ was not declared in this scope
   95 |         IKeyValues *kv = new CKeyValues("ModeGroups");
      |                     ^~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:95:30: error: expected type-specifier before ‘CKeyValues’
   95 |         IKeyValues *kv = new CKeyValues("ModeGroups");
      |                              ^~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:98:24: error: type ‘<type error>’ argument given to ‘delete’, expected pointer
   98 |                 delete kv;
      |                        ^~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:105:24: error: type ‘<type error>’ argument given to ‘delete’, expected pointer
  105 |                 delete kv;
      |                        ^~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:110:26: error: ‘sub’ was not declared in this scope; did you mean ‘fsub’?
  110 |         for (IKeyValues *sub = kv->GetFirstSubKey(); sub; sub = sub->GetNextKey())
      |                          ^~~
      |                          fsub
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:125:42: error: ‘p’ was not declared in this scope; did you mean ‘sp’?
  125 |                         for (IKeyValues *p = sub->GetFirstSubKey(); p; p = p->GetNextKey())
      |                                          ^
      |                                          sp
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:139:42: error: ‘p’ was not declared in this scope; did you mean ‘sp’?
  139 |                         for (IKeyValues *p = sub->GetFirstSubKey(); p; p = p->GetNextKey())
      |                                          ^
      |                                          sp
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:141:38: error: ‘struct ModeInfo’ has no member named ‘cvars’
  141 |                                 info.cvars[p->GetName()] = p->GetString();
      |                                      ^~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:149:42: error: ‘p’ was not declared in this scope; did you mean ‘sp’?
  149 |                         for (IKeyValues *p = sub->GetFirstSubKey(); p; p = p->GetNextKey())
      |                                          ^
      |                                          sp
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:163:16: error: type ‘<type error>’ argument given to ‘delete’, expected pointer
  163 |         delete kv;
      |                ^~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp: In member function ‘void ModeGroupExtension::CollectPluginsFromDir(const char*, std::vector<std::__cxx11::basic_string<char> >&, bool)’:
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:172:23: error: ‘PLATFORM_MAX_PATH’ was not declared in this scope
  172 |         char fullPath[PLATFORM_MAX_PATH];
      |                       ^~~~~~~~~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:173:9: error: ‘g_pSM’ was not declared in this scope
  173 |         g_pSM->BuildPath(Path_SM, fullPath, sizeof(fullPath), "plugins/%s", relativeDir);
      |         ^~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:173:26: error: ‘Path_SM’ was not declared in this scope
  173 |         g_pSM->BuildPath(Path_SM, fullPath, sizeof(fullPath), "plugins/%s", relativeDir);
      |                          ^~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:173:35: error: ‘fullPath’ was not declared in this scope
  173 |         g_pSM->BuildPath(Path_SM, fullPath, sizeof(fullPath), "plugins/%s", relativeDir);
      |                                   ^~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:175:9: error: ‘IDirectory’ was not declared in this scope
  175 |         IDirectory *dir = libsys->OpenDirectory(fullPath);
      |         ^~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:175:21: error: ‘dir’ was not declared in this scope; did you mean ‘div’?
  175 |         IDirectory *dir = libsys->OpenDirectory(fullPath);
      |                     ^~~
      |                     div
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:175:27: error: ‘libsys’ was not declared in this scope
  175 |         IDirectory *dir = libsys->OpenDirectory(fullPath);
      |                           ^~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:186:47: error: ‘subDir’ was not declared in this scope
  186 |                                 g_pSM->Format(subDir, sizeof(subDir), "%s/%s", relativeDir, dir->GetEntryName());
      |                                               ^~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:196:47: error: ‘relativePath’ was not declared in this scope; did you mean ‘relativeDir’?
  196 |                                 g_pSM->Format(relativePath, sizeof(relativePath), "%s/%s", relativeDir, name);
      |                                               ^~~~~~~~~~~~
      |                                               relativeDir
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:203:16: error: type ‘<type error>’ argument given to ‘delete’, expected pointer
  203 |         delete dir;
      |                ^~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp: In member function ‘void ModeGroupExtension::UnloadCurrentModePlugins()’:
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:245:31: error: ‘playerhelpers’ was not declared in this scope
  245 |         IPluginManager *mgr = playerhelpers->GetPluginManager();
      |                               ^~~~~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp: In member function ‘void ModeGroupExtension::LoadModePlugins(const std::vector<std::__cxx11::basic_string<char> >&)’:
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:255:31: error: ‘playerhelpers’ was not declared in this scope
  255 |         IPluginManager *mgr = playerhelpers->GetPluginManager();
      |                               ^~~~~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:260:68: error: ‘PluginType_Private’ was not declared in this scope
  260 |                 IPlugin *pl = mgr->LoadPlugin(file.c_str(), false, PluginType_Private, error, sizeof(error), &wasLoaded);
      |                                                                    ^~~~~~~~~~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:263:25: error: ‘g_pSM’ was not declared in this scope
  263 |                         g_pSM->LogError(myself, "Failed to load %s: %s", file.c_str(), error);
      |                         ^~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:263:41: error: ‘myself’ was not declared in this scope
  263 |                         g_pSM->LogError(myself, "Failed to load %s: %s", file.c_str(), error);
      |                                         ^~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp: In member function ‘void ModeGroupExtension::ApplyModeSettings(const ModeInfo&)’:
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:272:36: error: ‘const struct ModeInfo’ has no member named ‘cvars’
  272 |         for (const auto &it : mode.cvars)
      |                                    ^~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:274:41: error: ‘class ICvar’ has no member named ‘FindConVar’; did you mean ‘FindVar’?
  274 |                 ConVar *cvar = g_pCVar->FindConVar(it.first.c_str());
      |                                         ^~~~~~~~~~
      |                                         FindVar
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:277:29: error: invalid use of incomplete type ‘class ConVar’
  277 |                         cvar->SetString(it.second.c_str());
      |                             ^~
In file included from /home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.h:9:
/home/runner/work/SM-ModeGroups/SM-ModeGroups/hl2sdk-tf2/public/icvar.h:18:7: note: forward declaration of ‘class ConVar’
   18 | class ConVar;
      |       ^~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:281:25: error: ‘g_pSM’ was not declared in this scope
  281 |                         g_pSM->LogError(myself, "Cvar %s not found", it.first.c_str());
      |                         ^~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:281:41: error: ‘myself’ was not declared in this scope
  281 |                         g_pSM->LogError(myself, "Cvar %s not found", it.first.c_str());
      |                                         ^~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:288:17: error: ‘g_pSM’ was not declared in this scope
  288 |                 g_pSM->InsertServerCommand(cmd.c_str());
      |                 ^~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp: In function ‘cell_t OnModeCommand(SourcePawn::IPluginContext*, const cell_t*)’:
/home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.cpp:303:32: error: no matching function for call to ‘SourcePawn::IPluginContext::LocalToString(const cell_t&, char [64], long unsigned int)’
  303 |         pContext->LocalToString(params[1], modeName, sizeof(modeName));
      |         ~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/runner/work/SM-ModeGroups/SM-ModeGroups/sourcemod-1.12/public/IShareSys.h:41,
                 from /home/runner/work/SM-ModeGroups/SM-ModeGroups/extension.h:5:
/home/runner/work/SM-ModeGroups/SM-ModeGroups/sourcemod-1.12/sourcepawn/include/sp_vm_api.h:861:17: note: candidate: ‘virtual int SourcePawn::IPluginContext::LocalToString(cell_t, char**)’
  861 |     virtual int LocalToString(cell_t local_addr, char** addr) = 0;
      |                 ^~~~~~~~~~~~~
/home/runner/work/SM-ModeGroups/SM-ModeGroups/sourcemod-1.12/sourcepawn/include/sp_vm_api.h:861:17: note:   candidate expects 2 arguments, 3 provided
At global scope:
cc1plus: note: unrecognized command-line option ‘-Wno-undefined-bool-conversion’ may have been intended to silence earlier diagnostics
cc1plus: note: unrecognized command-line option ‘-Wno-tautological-constant-out-of-range-compare’ may have been intended to silence earlier diagnostics
cc1plus: note: unrecognized command-line option ‘-Wno-tautological-overlap-compare’ may have been intended to silence earlier diagnostics
cc1plus: note: unrecognized command-line option ‘-Wno-inconsistent-missing-override’ may have been intended to silence earlier diagnostics
cc1plus: note: unrecognized command-line option ‘-Wno-unused-private-field’ may have been intended to silence earlier diagnostics
Build failed: ModeGroups.ext.2.tf2/linux-x86_64/extension.d
Error: 进程已结束，退出代码为 1.